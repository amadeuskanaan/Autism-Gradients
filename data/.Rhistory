fonts()
fonttable()
if(.Platform$OS.type != "unix") {
## Register fonts for Windows bitmap output
loadfonts(device="win")
} else {
loadfonts()
}
font_import(pattern = "xkcd", prompt=FALSE)
font_import(pattern = "xkcd", prompt=FALSE)
fonts()
fonttable()
if(.Platform$OS.type != "unix") {
## Register fonts for Windows bitmap output
loadfonts(device="win")
} else {
loadfonts()
}
ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +
theme(text = element_text(size = 16, family = "xkcd"))
font_import(pattern = "[X/x]kcd", prompt=FALSE)
fonts()
fonttable()
if(.Platform$OS.type != "unix") {
## Register fonts for Windows bitmap output
loadfonts(device="win")
} else {
loadfonts()
}
ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +
theme(text = element_text(size = 16, family = "xkcd"))
library(extrafont)
install.packages("xkcd",dependencies = TRUE)
install.packages("xkcd", dependencies = TRUE)
library(xkcd)
xrange <- range(mtcars$mpg)
yrange <- range(mtcars$wt)
set.seed(123) # for reproducibility
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + + xkcdaxis(xrange,yrange)
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + xkcdaxis(xrange,yrange)
p
for(dirs in font.paths()) {
file.copy(file.path(dirs,"xkcd.ttf), "/Users/shambho/library/Fonts/")
}
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + + xkcdaxis(xrange,yrange)
)
)
}
p
for(dirs in font.paths()) {
file.copy(file.path(dirs,"xkcd.ttf"), "/Users/shambho/library/Fonts/")
}
font.add("xkcd",  regular = "xkcd.ttf")
download.file("http://simonsoftware.se/other/xkcd.ttf",dest="xkcd.ttf", mode="wb")
system("mkdir ~/.fonts")
system("cp xkcd.ttf  ~/.fonts")
font_import(pattern = "[X/x]kcd", prompt=FALSE)
fonts()
fonttable()
if(.Platform$OS.type != "unix") {
## Register fonts for Windows bitmap output
loadfonts(device="win")
} else {
loadfonts()
}
font.add("xkcd",  regular = "xkcd.ttf")
install.packages('sysfonts')
library('sysfonts')
font.add("xkcd",  regular = "xkcd.ttf")
for(dirs in font.paths()) {
file.copy(file.path(dirs,"xkcd.ttf"), "/Users/shambho/library/Fonts/")
}
ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +
theme(text = element_text(size = 16, family = "xkcd"))
for(dirs in font.paths()) {
file.copy(file.path(dirs,"xkcd.ttf"), "/Users/Richard/Library/Fonts/")
}
ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +
theme(text = element_text(size = 16, family = "xkcd"))
fon.paths()
font.paths()
for(dirs in font.paths()) {
file.copy(file.path(dirs,"xkcd.ttf"), "/Users/Richard/Library/Fonts/")
file.copy(file.path(dirs,"xkcd.ttf"), "/Library/Fonts/")
}
fonts()
ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +
theme(text = element_text(size = 16, family = "xkcd"))
xrange <- range(mtcars$mpg)
yrange <- range(mtcars$wt)
set.seed(123) # for reproducibility
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + xkcdaxis(xrange,yrange)
p
fonts()
font_import()
fonts()
loadfonts(device = "pdf")
xrange <- range(mtcars$mpg)
yrange <- range(mtcars$wt)
set.seed(123) # for reproducibility
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + xkcdaxis(xrange,yrange)
p
library(sysfonts)
system("mkdir -p ~/.fonts")
download.file("http://simonsoftware.se/other/xkcd.ttf", dest="~/.fonts/xkcd.ttf", mode="wb")
download.file("http://dl.dropbox.com/u/12305244/Humor-Sans.ttf", dest="~/.fonts/Humor-Sans.ttf", mode="wb")
font.paths("~/.fonts")
font.add("xkcd", regular = "xkcd.ttf")
font.add("Humor Sans", regular = "Humor-Sans.ttf")
library(sysfonts)
download.file("http://simonsoftware.se/other/xkcd.ttf", dest="~/Library/Fonts/xkcd.ttf", mode="wb")
download.file("http://dl.dropbox.com/u/12305244/Humor-Sans.ttf", dest="~/Library/Fonts/Humor-Sans.ttf", mode="wb")
font.add("xkcd", regular = "xkcd.ttf")
font.add("Humor Sans", regular = "Humor-Sans.ttf")
xrange <- range(mtcars$mpg)
yrange <- range(mtcars$wt)
set.seed(123) # for reproducibility
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + xkcdaxis(xrange,yrange)
p
library(xkcd)
xrange <- range(mtcars$wt)
yrange <- range(mtcars$mpg)
p1 <- ggplot(data=mtcars, aes(x=wt, y=mpg)) +
geom_point(shape=20) +                                                  # use solid circles
xkcdaxis(xrange,yrange) +                                           # plot the xkcd-styled axis
xlab("weight in thoushands of pounds") +                # label the x-axis
ylab("miles per gallon")                                                # label the y-axis
print(p1)
library(xkcd)
xrange <- range(mtcars$wt)
yrange <- range(mtcars$mpg)
p1 <- ggplot(data=mtcars, aes(x=wt, y=mpg)) +
geom_point(shape=20) +                                                  # use solid circles
xkcdaxis(xrange,yrange) +                                           # plot the xkcd-styled axis
xlab("weight in thoushands of pounds") +                # label the x-axis
ylab("miles per gallon")                                                # label the y-axis
print(p1)
fonts()
AQ = read.table(x, "clipboard", sep="\t", row.names=FALSE, col.names=FALSE)
read.table(AQ, "clipboard", sep="\t", row.names=FALSE, col.names=FALSE)
AQ = read.table("clipboard", sep="\t", row.names=FALSE, col.names=FALSE)
AQ <- read.delim("clipboard")
AQ <- read.delim("clipboard")
install.packages('LSAfun')
libary(LSAfun)
library(LSAfun)
x = read.table("clipboard",header = FALSE)
x = read.table("clipboard",header = FALSE)
x = read.delim("clipboard")
x = read.delim(pipe("pbpaste"))
View(x)
x = read.delim(pipe("pbpaste"),header=FALSE)
names(x)=c('dDMN','Hypothalamus','MidBrain','OFC','Amygdala','Salience','SubcortThreat')
View(x)
library(corrplot)
install.packages('corrplot')
library(corrplot)
corrplot(x, order="AOE", method="circle", tl.pos="lt", type="upper",
tl.col="black", tl.cex=0.6, tl.srt=45,
addCoef.col="black", addCoefasPercent = TRUE,
p.mat = 1-abs(x), sig.level=0.50, insig = "blank")
corrplot(x, order="AOE", method="circle", tl.pos="lt", type="upper",
tl.col="black", tl.cex=0.6, tl.srt=45,
addCoef.col="black", addCoefasPercent = TRUE,
p.mat = 1-abs(x))
jnk=runif(1000)
jnk=(jnk*100)+c(1:500, 500:1)
jnk=matrix(jnk,nrow=100,ncol=10)
jnk=as.data.frame(jnk)
names(jnk)=c("var1", "var2","var3","var4","var5","var6","var7","var8","var9","var10")
cor_jnk=cor(jnk, use="complete.obs")
View(cor_jnk)
upper_tri <- get_upper_tri(x)
get_lower_tri<-function(cormat){
cormat[upper.tri(cormat)] <- NA
return(cormat)
}
# Get upper triangle of the correlation matrix
get_upper_tri <- function(cormat){
cormat[lower.tri(cormat)]<- NA
return(cormat)
}
upper_tri <- get_upper_tri(x)
View(upper_tri)
# Melt the correlation matrix
library(reshape2)
melted_cormat <- melt(upper_tri, na.rm = TRUE)
View(melted_cormat)
View(melted_cormat)
library(ggplot2)
ggplot(data = melted_cormat, aes(Var2, Var1, fill = value))+
geom_tile(color = "white")+
scale_fill_gradient2(low = "blue", high = "red", mid = "white",
midpoint = 0, limit = c(-1,1), space = "Lab",
name="Pairwise Uncorrected\n P-Value") +
theme_minimal()+
theme(axis.text.x = element_text(angle = 45, vjust = 1,
size = 12, hjust = 1))+
coord_fixed()
View(melted_cormat)
row.names(x)=c('dDMN','Hypothalamus','MidBrain','OFC','Amygdala','Salience','SubcortThreat')
# Get lower triangle of the correlation matrix
get_lower_tri<-function(cormat){
cormat[upper.tri(cormat)] <- NA
return(cormat)
}
# Get upper triangle of the correlation matrix
get_upper_tri <- function(cormat){
cormat[lower.tri(cormat)]<- NA
return(cormat)
}
upper_tri <- get_upper_tri(x)
melted_cormat <- melt(upper_tri, na.rm = TRUE)
View(upper_tri)
View(melted_cormat)
corrplot(x)
View(x)
heatmap(x)
y = as.matrix(x)
View(y)
heatmap(y)
y = as.matrix(upper_tri)
heatmap(y)
View(upper_tri)
save.image("~/Dropbox/PhD/Study_15_Testosterone/pvalues.RData")
load("~/Dropbox/PhD/Study_15_Testosterone/pvalues.RData")
View(upper_tri)
View(y)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(Var1, levels=1:10),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
library(tidyverse)
install.packages('tidyverse')
library(tidyverse)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(Var1, levels=1:10),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
View(dat2)
dat2 <- x %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(Var1, levels=1:10),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(Var1, levels=1:10),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
nameY=c('dDMN','Hypothalamus','MidBrain','OFC','Amygdala','Salience','SubcortThreat')
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(nameY, levels=1:10),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(nameY, levels=1:7),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(nameY, levels=1:49),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(nameY),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(nameY, levels=1),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
dat2 <- y %>%
tbl_df() %>%
rownames_to_column('Var1') %>%
gather(Var2, value, -Var1) %>%
mutate(
Var1 = factor(Var1, levels=1:10),
Var2 = factor(gsub("V", "", Var2), levels=1:10)
)
ggplot(dat2, aes(Var1, Var2)) +
geom_tile(aes(fill = value)) +
geom_text(aes(label = round(value, 1))) +
scale_fill_gradient(low = "white", high = "red")
library(gplots)
heatmap.2(x,dendrogram = "none")
heatmap.2(y,dendrogram = "none")
heatmap.2(y,dendrogram = "none", Rowv = FALSE, Colv = FALSE)
heatmap.2(y,dendrogram = "none", Rowv = FALSE, Colv = FALSE, cellnote = y)
heatmap.2(y,dendrogram = "none", Rowv = FALSE, Colv = FALSE, cellnote = y, notecol = "black")
z = round(y,3)
View(z)
heatmap.2(z,dendrogram = "none", Rowv = FALSE, Colv = FALSE, cellnote = y, notecol = "black", trace = 'none')
heatmap.2(z,dendrogram = "none", Rowv = FALSE, Colv = FALSE, cellnote = z, notecol = "black", trace = 'none')
heatmap.2(z,dendrogram = "none", Rowv = FALSE, Colv = FALSE, cellnote = z, notecol = "black", trace = 'none', key = F)
heatmap.2(z,dendrogram = "none", Rowv = FALSE, Colv = FALSE, cellnote = z, notecol = "black", trace = 'none')
heatmap.2(z,dendrogram = "none", Rowv = FALSE, Colv = FALSE, cellnote = z, notecol = "black", trace = 'none', density.info = 'none')
install.packages('circlize')
set.seed(999)
mat = matrix(sample(18, 18), 3, 6)
rownames(mat) = paste0("S", 1:3)
colnames(mat) = paste0("E", 1:6)
chordDiagram(mat)
library(circlize)
chordDiagram(mat)
x = read.delim(pipe("pbpaste"))
y = as.matrix(x)
x = read.delim(pipe("pbpaste"))
y = as.matrix(x)
EEGNames = (  'Fp1' 'AF7' 'AF3' 'F1')
EEGNames = ('Fp1' 'AF7' 'AF3' 'F1')
EEGNames = ('Fp1','AF7','AF3','F1')
EEGNames = c('Fp1' 'AF7' 'AF3' 'F1')
EEGNames = c('Fp1','AF7','AF3','F1')
x = read.delim(pipe("pbpaste"))
y = as.matrix(x)
View(y)
View(x)
x = read.delim(pipe("pbpaste"),header=FALSE)
y = as.matrix(x)
EEGNames = c('Fp1','AF7','AF3','F1','F3','F5','F7','FT7','FC5','FC3','FC1','C1',
'C3','C5','T7','TP7','CP5','CP3','CP1','P1','P3','P5','P7','P9','PO7',
'PO3','O1','Iz','Oz','POz','Pz','CPz','Fpz','Fp2','AF8','AF4','AFz','Fz',
'F2','F4','F6','F8','FT8','FC6','FC4','FC2','FCz','Cz','C2','C4','C6',
'T8','TP8','CP6','CP4','CP2','P2','P4','P6','P8','P10','PO8','PO4','O2')
chordDiagram(x)
rownames(x) = EEGNames
colnames(x) = EEGNames
View(x)
x = as.matrix(x)
rownames(x) = EEGNames
colnames(x) = EEGNames
chordDiagram(x)
chordDiagram(x, col = x)
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
posx = read.delim(pipe("pbpaste"),header=FALSE)
posx = as.matrix(posx)
chordDiagram(adj, col = posx)
View(posx)
posx = read.delim(pipe("pbpaste"),header=FALSE)
posx = as.matrix(posx)
rownames(adj) = EEGNames
colnames(adj) = EEGNames
chordDiagram(adj, col = posx)
col_mat = rand_color(length(adj), transparency = 0.5)
head(col_mat)
chordDiagram(adj, col = col_mat)
col_mat = rand_color(length(posx), transparency = 0.5)
chordDiagram(adj, col = col_mat)
library(circlize)
?colorRamp2
col_fun = colorRamp2(c(-1, 0, 1), c("green", "black", "red"))
col_fun(seq(-2, 2, by = 0.5))
View(col_fun)
col_fun = colorRamp2(c(log10(0.0001), log10(0.05), log10(1)), c("green", "white", "red"))
col_fun(log10(c(0.000001, 0.0012, 0.012, 0.2)))
space = c("RGB", "HSV", "LAB", "XYZ", "sRGB", "LUV")
par(xpd = NA)
plot(NULL, xlim = c(-1, 1), ylim = c(0, length(space)+1), type = "n")
for(i in seq_along(space)) {
f = colorRamp2(c(-1, 0, 1), c("green", "black", "red"), space = space[i])
x = seq(-1, 1, length = 200)
rect(x-1/200, i-0.5, x+1/200, i+0.5, col = f(x), border = NA)
text(1, i, space[i], adj = c(-0.2, 0.5))
}
par(xpd = FALSE)
?chordDiagram
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
col_mat = colorRamp2(adj)
library(circlize)
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
?colorRamp2
col_mat = colorRamp2([1:10],adj,transparency = 0,space="LAB")
col_mat = colorRamp2(1:10,adj,transparency = 0,space="LAB")
col_mat = colorRamp2(adj,adj,transparency = 0,space="LAB")
View(col_mat)
View(col_mat)
col_mat = colorRamp2(1:10,1:10,transparency = 0,space="LAB")
col_fun = colorRamp2(1:10,1:10,transparency = 0,space="LAB")
col_mat = col_fun(adj)
View(adj)
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
col_mat = col_fun(adj)
chordDiagram(adj,col = col_mat)
EEGNames = c('Fp1','AF7','AF3','F1','F3','F5','F7','FT7','FC5','FC3','FC1','C1',
'C3','C5','T7','TP7','CP5','CP3','CP1','P1','P3','P5','P7','P9','PO7',
'PO3','O1','Iz','Oz','POz','Pz','CPz','Fpz','Fp2','AF8','AF4','AFz','Fz',
'F2','F4','F6','F8','FT8','FC6','FC4','FC2','FCz','Cz','C2','C4','C6',
'T8','TP8','CP6','CP4','CP2','P2','P4','P6','P8','P10','PO8','PO4','O2')
rownames(adj) = EEGNames
colnames(adj) = EEGNames
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
rownames(adj) = EEGNames
colnames(adj) = EEGNames
col_mat = col_fun(adj)
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
EEGNames = c('Fp1','AF7','AF3','F1','F3','F5','F7','FT7','FC5','FC3','FC1','C1',
'C3','C5','T7','TP7','CP5','CP3','CP1','P1','P3','P5','P7','P9','PO7',
'PO3','O1','Iz','Oz','POz','Pz','CPz','Fpz','Fp2','AF8','AF4','AFz','Fz',
'F2','F4','F6','F8','FT8','FC6','FC4','FC2','FCz','Cz','C2','C4','C6',
'T8','TP8','CP6','CP4','CP2','P2','P4','P6','P8','P10','PO8','PO4','O2')
rownames(adj) = EEGNames
colnames(adj) = EEGNames
col_mat = col_fun(adj)
chordDiagram(adj,col = col_mat, symmetric = TRUE)
chordDiagram(adj,col = col_mat)
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
rownames(adj) = EEGNames
colnames(adj) = EEGNames
col_fun = colorRamp2(1:10,1:10,transparency = 0,space="LAB")
col_mat = col_fun(adj)
chordDiagram(adj, col = col_mat)
chordDiagram(adj,col = col_mat, symmetric = TRUE)
View(col_mat)
View(col_mat)
0:1:10
0:0.1:1
0:1:0.1
break = seq(from = 0, to = 1, by = 0.01)
breaks = seq(from = 0, to = 1, by = 0.01)
col_fun = colorRamp2(breaks,breaks,transparency = 0,space="LAB")
breaks = seq(from = 0.1, to = 1, by = 0.01)
col_fun = colorRamp2(breaks,breaks,transparency = 0,space="LAB")
col_mat = col_fun(adj)
View(col_mat)
View(col_mat)
View(adj)
col_fun = colorRamp2(breaks,breaks,transparency = 0,space="LAB")
col_fun = colorRamp2(c(-1, 0, 1), c("green", "black", "red"))
col_mat = col_fun(adj)
View(col_mat)
chordDiagram(adj, col = col_mat, symmetric = TRUE)
library(circlize)
adj = read.delim(pipe("pbpaste"),header=FALSE)
adj = as.matrix(adj)
adj = read.delim(pipe("pbpaste"),header=FALSE)
library(circlize)
cor_mat = read.delim(pipe("pbpaste"),header=FALSE)
cor_mat = as.matrix(cor_mat)
EEGNames = c('Fp1','AF7','AF3','F1','F3','F5','F7','FT7','FC5','FC3','FC1','C1',
'C3','C5','T7','TP7','CP5','CP3','CP1','P1','P3','P5','P7','P9','PO7',
'PO3','O1','Iz','Oz','POz','Pz','CPz','Fpz','Fp2','AF8','AF4','AFz','Fz',
'F2','F4','F6','F8','FT8','FC6','FC4','FC2','FCz','Cz','C2','C4','C6',
'T8','TP8','CP6','CP4','CP2','P2','P4','P6','P8','P10','PO8','PO4','O2')
rownames(cor_mat) = EEGNames
colnames(cor_mat) = EEGNames
col_fun = colorRamp2(c(-1, 0, 1), c("darkgreen", "white", "red"))
chordDiagram(cor_mat, col = col_fun(cor_mat), symmetric = TRUE)
col_mat = col_fun(cor_mat)
col_mat[abs(cor_mat) < 0.2] = "#00000000"
chordDiagram(cor_mat, col = col_mat, symmetric = TRUE)
col_mat = col_fun(cor_mat)
col_mat[abs(cor_mat) < 0.4] = "#00000000"
chordDiagram(cor_mat, col = col_mat, symmetric = TRUE)
col_mat = col_fun(cor_mat)
col_mat[abs(cor_mat) < 0.4] = "#00000000"
chordDiagram(cor_mat, col = col_mat, symmetric = TRUE)
View(cor_mat)
col_mat = col_fun(cor_mat)
col_mat[abs(cor_mat) < 0.5] = "#00000000"
chordDiagram(cor_mat, col = col_mat, symmetric = TRUE)
setwd("~/GitHub/Autism-Gradients/data")
data = read.csv('Gradients.csv')
View(data)
ASC = subset(data, DX_GROUP==2)
NT = subset(data, DX_GROUP==1)
mean(ASC$AGE_AT_SCAN)
sd(ASC$AGE_AT_SCAN)
mean(NT$AGE_AT_SCAN)
sd(NT$AGE_AT_SCAN)
t.test(ASC$AGE_AT_SCAN,NT$AGE_AT_SCAN)
wilcox.test(ASC$AGE_AT_SCAN,NT$AGE_AT_SCAN)
